	
	.ORG 0000H
	
	MVI A,00000000B   ;EN=0 AND RS=0
	OUT 01H
	LXI B,0000H
	MVI E,00H
	LXI SP,0000H
	LXI H,8000H
	CALL DELAY50
	
	
	MVI A,03H	;1
	CALL TRIGGER
	CALL DELAY4.5
	
	MVI A,03H	;2
	CALL TRIGGER
	CALL DELAY100U
	
	MVI A,03H	;3
	CALL TRIGGER
	CALL DELAY4.5
	
	MVI A,02H	;4
	CALL TRIGGER

	MVI A,02H	;5 FUNCTION SET 28H
	CALL TRIGGER
	MVI A,08H
	CALL TRIGGER
	CALL DELAY100U
	
	MVI A,00H	;6 DISPLAY ON 0CH
	CALL TRIGGER
	MVI A,0CH
	CALL TRIGGER
	CALL DELAY100U

	MVI A,00H	;6 DISPLAY ON 0CH
	CALL TRIGGER
	MVI A,01H
	CALL TRIGGER
	CALL DELAY4.5
	
	MVI A,00H	;7  CLEAR DISPLAY 01H
	CALL TRIGGER
	MVI A,06H
	CALL TRIGGER
	CALL DELAY4.5
		
	MVI A,08H	;9 SETTING RAM ADDRESS
	CALL TRIGGER
	MVI A,00H
	CALL TRIGGER
	CALL DELAY100U
	
	
        CALL CLRDISP
	
	MVI A,15H	;S
	CALL TRIGGER
	MVI A,13H
	CALL TRIGGER

	MVI A,14H	;I
	CALL TRIGGER
	MVI A,19H
	CALL TRIGGER

	MVI A,14H	;D
	CALL TRIGGER
	MVI A,14H
	CALL TRIGGER

	MVI A,14H	;E
	CALL TRIGGER
	MVI A,15H
	CALL TRIGGER
		
	MVI A,12H	;-
	CALL TRIGGER
	MVI A,1DH
	CALL TRIGGER
	
	MVI A,13H	;1
	CALL TRIGGER
	MVI A,11H
	CALL TRIGGER
	
	CALL DELAY5012
	CALL CLRDISP
		
	MVI E,00H
	IN 00H	
	MVI C,08H
AGAIN:	RAL
	CC ONE 
	CNC ZERO
	DCR C
	JNZ AGAIN
	
	CALL DELAY501
	CALL CLRDISP
	MOV M,E
	
	MOV A,E
	ADI 30H
	MOV E,A
	ANI 0F0H
	RLC 
	RLC
	RLC
	RLC
	ORI 10H
	CALL TRIGGER
	MOV A,E
	ANI 0FH
	ORI 10H
	CALL TRIGGER
	CALL DELAY5012
	CALL CLRDISP
	
	INX H

	MVI A,15H	;S
	CALL TRIGGER
	MVI A,13H
	CALL TRIGGER

	MVI A,14H	;I
	CALL TRIGGER
	MVI A,19H
	CALL TRIGGER

	MVI A,14H	;D
	CALL TRIGGER
	MVI A,14H
	CALL TRIGGER

	MVI A,14H	;E
	CALL TRIGGER
	MVI A,15H
	CALL TRIGGER
		
	MVI A,12H	;-
	CALL TRIGGER
	MVI A,1DH
	CALL TRIGGER
	
	MVI A,13H	;2
	CALL TRIGGER
	MVI A,12H
	CALL TRIGGER
	
	CALL DELAY5012
	CALL CLRDISP

	MVI E,00H
	IN 00H	
	MVI C,08H
AGAIN1:	RAL
	CC ONE 
	CNC ZERO
	DCR C
	JNZ AGAIN1
	
	CALL DELAY501
	CALL CLRDISP
	MOV M,E
		
	MOV A,E
	ADI 30H
	MOV E,A
	ANI 0F0H
	RLC 
	RLC
	RLC
	RLC
	ORI 10H
	CALL TRIGGER
	MOV A,E
	ANI 0FH
	ORI 10H
	CALL TRIGGER
	CALL DELAY5012
	CALL CLRDISP

	MVI A,14H	;L
	CALL TRIGGER
	MVI A,1CH
	CALL TRIGGER

	MVI A,14H	;E
	CALL TRIGGER
	MVI A,15H
	CALL TRIGGER

	MVI A,14H	;N
	CALL TRIGGER
	MVI A,1EH
	CALL TRIGGER

	MVI A,14H	;G
	CALL TRIGGER
	MVI A,17H
	CALL TRIGGER

	MVI A,15H	;T
	CALL TRIGGER
	MVI A,14H
	CALL TRIGGER

	MVI A,14H	;H
	CALL TRIGGER
	MVI A,18H
	CALL TRIGGER

	MVI A,12H	;-
	CALL TRIGGER
	MVI A,1DH
	CALL TRIGGER
	
	MVI A,13H	;1
	CALL TRIGGER
	MVI A,11H
	CALL TRIGGER

	MVI A,13H	;:
	CALL TRIGGER
	MVI A,1AH
	CALL TRIGGER
	
	LXI H,8000H
	MOV A,M
	ADI 30H
	ANI 0F0H
	RLC 
	RLC
	RLC
	RLC
	ORI 10H
	CALL TRIGGER
	MOV A,M
	ADI 30H
	ANI 0FH
	ORI 10H
	CALL TRIGGER


	INX H
	
	MVI A,0CH
	CALL TRIGGER
	MVI A,00H
	CALL TRIGGER

	MVI A,14H	;L
	CALL TRIGGER
	MVI A,1CH
	CALL TRIGGER

	MVI A,14H	;E
	CALL TRIGGER
	MVI A,15H
	CALL TRIGGER

	MVI A,14H	;N
	CALL TRIGGER
	MVI A,1EH
	CALL TRIGGER

	MVI A,14H	;G
	CALL TRIGGER
	MVI A,17H
	CALL TRIGGER

	MVI A,15H	;T
	CALL TRIGGER
	MVI A,14H
	CALL TRIGGER

	MVI A,14H	;H
	CALL TRIGGER
	MVI A,18H
	CALL TRIGGER

	MVI A,12H	;-
	CALL TRIGGER
	MVI A,1DH
	CALL TRIGGER
	
	MVI A,13H	;2
	CALL TRIGGER
	MVI A,12H
	CALL TRIGGER

	MVI A,13H	;:
	CALL TRIGGER
	MVI A,1AH
	CALL TRIGGER

	MOV A,M
	ADI 30H
	ANI 0F0H
	RLC 
	RLC
	RLC
	RLC
	ORI 10H
	CALL TRIGGER
	MOV A,M
	ADI 30H
	ANI 0FH
	ORI 10H
	CALL TRIGGER

	CALL DELAY501
	
	CALL CLRDISP
	
	
	MVI A,14H	;A
	CALL TRIGGER
	MVI A,11H
	CALL TRIGGER

	MVI A,15H	;R
	CALL TRIGGER
	MVI A,12H
	CALL TRIGGER
	
	MVI A,14H	;E
	CALL TRIGGER
	MVI A,15H
	CALL TRIGGER

	MVI A,14H	;A
	CALL TRIGGER
	MVI A,11H
	CALL TRIGGER

	MVI A,13H	;:
	CALL TRIGGER
	MVI A,1AH
	CALL TRIGGER

	LXI H,8000H
	MOV D,M
	LXI H,8001H
	MOV E,M

	MOV A,D
REPEAT:	ADD D
	DCR E
	JNZ REPEAT
	SUB D
	
	LXI D,0000H
;	MVI A,00010111B
BETA:	CPI 00001010B
	CC POST
	SUI 00001010B
	CPI 00001010B	
	INR E
	JNC BETA

	MOV D,A
	
	MOV A,E
	ADI 30H
	ANI 0F0H
	RLC 
	RLC
	RLC
	RLC
	ORI 10H
	CALL TRIGGER
	MOV A,E
	ADI 30H
	ANI 0FH
	ORI 10H
	CALL TRIGGER
	
	MOV A,D
	ADI 30H
	ANI 0F0H
	RLC 
	RLC
	RLC
	RLC
	ORI 10H
	CALL TRIGGER
	MOV A,D
	ADI 30H
	ANI 0FH
	ORI 10H
	CALL TRIGGER

	MVI A,0CH
	CALL TRIGGER
	MVI A,00H
	CALL TRIGGER

	MVI A,13H	;1
	CALL TRIGGER
	MVI A,11H
	CALL TRIGGER
	
	MVI A,12H	;space
	CALL TRIGGER
	MVI A,10H
	CALL TRIGGER

	MVI A,17H	;u
	CALL TRIGGER
	MVI A,15H
	CALL TRIGGER
	
	MVI A,16H	;n
	CALL TRIGGER
	MVI A,1EH
	CALL TRIGGER

	MVI A,16H	;i
	CALL TRIGGER
	MVI A,19H
	CALL TRIGGER

	MVI A,17H	;t
	CALL TRIGGER
	MVI A,14H
	CALL TRIGGER
	
	MVI A,13H	;=
	CALL TRIGGER
	MVI A,1DH
	CALL TRIGGER

	MVI A,13H	;0
	CALL TRIGGER
	MVI A,10H
	CALL TRIGGER

	MVI A,12H	;.
	CALL TRIGGER
	MVI A,1EH
	CALL TRIGGER

	MVI A,13H	;4
	CALL TRIGGER
	MVI A,14H
	CALL TRIGGER

	MVI A,13H	;9
	CALL TRIGGER
	MVI A,19H
	CALL TRIGGER

	MVI A,17H	;s
	CALL TRIGGER
	MVI A,13H
	CALL TRIGGER

	MVI A,17H	;q
	CALL TRIGGER
	MVI A,11H
	CALL TRIGGER

	MVI A,12H	;.
	CALL TRIGGER
	MVI A,1EH
	CALL TRIGGER

	MVI A,16H	;i
	CALL TRIGGER
	MVI A,19H
	CALL TRIGGER

	MVI A,16H	;n
	CALL TRIGGER
	MVI A,1EH
	CALL TRIGGER

	MVI A,12H	;.
	CALL TRIGGER
	MVI A,1EH
	CALL TRIGGER

	HLT

POST:	ADI 00001010B
	DCR E
	RET
	
DELAY50:	PUSH B
		LXI B,1040H
LOOP1:		DCX B
		MOV A,C
		ORA B
		JNZ LOOP1
		POP B	
		RET

DELAY501:	PUSH B
		LXI B,0FFFFH
LOOP11:		DCX B
		MOV A,C
		ORA B
		JNZ LOOP11
		POP B	
		RET

DELAY5012:	PUSH B
		PUSH D
		MVI E,03H
LOOP02:		LXI B,0FFFFH
LOOP00:		DCX B
		MOV A,C
		ORA B
		JNZ LOOP00
		DCR E 
		JNZ LOOP02
		POP D
		POP B
		RET

		
DELAY5011:	PUSH B
		PUSH D
		MVI E,05H
LOOP01:		LXI B,0FFFFH
LOOP0:		DCX B
		MOV A,C
		ORA B
		JNZ LOOP0
		DCR E 
		JNZ LOOP01
		POP D
		POP B
		RET

DELAY100U:	PUSH B
		MVI B,0EH
LOOP3:		DCR B
		JNZ LOOP3
		POP B
		RET
		
DELAY4.5:	PUSH B
		LXI B,01A0H
LOOP2:		DCX B
		MOV A,C
		ORA B
		JNZ LOOP2
		POP B
		RET
	
TRIGGER:  	ANI 11011111B  ;EN=0
		OUT 01H
		CALL DELAY100U
		ORI 00100000B;EN=1
		OUT 01H
		CALL DELAY100U
		ANI 11011111B ; EN=0
		OUT 01H
		CALL DELAY100U
		RET

ONE:		PUSH PSW
		MVI A,13H
		CALL TRIGGER
		MVI A,11H
		CALL TRIGGER
		POP PSW
		RET
	
ZERO:		PUSH PSW
		MVI A,13H
		CALL TRIGGER
		MVI A,10H
		CALL TRIGGER
		INR E
		POP PSW
		RET

CLRDISP:	PUSH PSW
		PUSH B
				
		MVI A,00H  	;CLEAR DISPLAY
		CALL TRIGGER
		MVI A,01H
		CALL TRIGGER
		CALL DELAY4.5
		
		MVI A,00H	;8  ENTRY MODE SET 06H
		CALL TRIGGER
		MVI A,06H
		CALL TRIGGER
		CALL DELAY4.5
	
		POP B
		POP PSW
		RET
